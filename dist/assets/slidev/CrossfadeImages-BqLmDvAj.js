import{d as b,L as $,O as M,b as z,o as p,F as k,aJ as L,h as o,e as T,aM as y,aN as E,ah as D,aO as F,z as S,f as g,i as G,aj as w,w as O,g as j,n as q}from"../modules/vue-D0O7rk7U.js";import{al as J,am as K,an as R,C as U}from"../index-DxexVWbq.js";import{u as I}from"./context-BBkRYvY8.js";const X=b({__name:"VClickGap",props:{size:{type:[String,Number],default:1}},setup(a){const r=a,{$clicksContext:n}=I(),t=J();let i=+r.size;return Number.isNaN(i)&&(console.warn(`[slidev] Invalid size for VClickGap: ${r.size}`),i=1),$(()=>{const f=n.currentOffset+i-1;n.register(t,{max:f,delta:i})}),M(()=>{n.unregister(t)}),(f,c)=>(p(),z(k))}}),B=["ul","ol"],H=b({props:{depth:{type:[Number,String],default:1},every:{type:[Number,String],default:1},at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},handleSpecialElements:{type:Boolean,default:!0}},render(){var x,C;const a=+this.every,r=K(this.at),n=typeof r=="string";let t=(C=(x=this.$slots).default)==null?void 0:C.call(x);if(r==null||!t)return t;const i=L("click"),f=(l,e)=>D(l,[[i,e,"",{hide:this.hide,fade:this.fade}]]),c=l=>l.flatMap(e=>y(e)&&typeof e.type=="symbol"&&Array.isArray(e.children)?c(e.children):[e]);t=c(R(t));const v=(l,e=1)=>c(l).map(s=>{if(!y(s))return s;if(B.includes(s.type)&&Array.isArray(s.children)){const m=h(s.children,e+1);return o(s,{},m)}return o(s)});let u=1,d=0;const h=(l,e=1)=>c(l).map(s=>{if(!y(s)||s.type===E)return s;const m=+r+Math.ceil(u++/a)-1;let N;e<+this.depth&&Array.isArray(s.children)?N=o(s,{},v(s.children,e)):N=o(s);const A=m-d;return d=m,f(N,n?A>=0?`+${A}`:`${A}`:m)}),_=()=>T(X,{size:+r+Math.ceil((u-1)/a)-1-d});if(this.handleSpecialElements){if(t.length===1&&B.includes(t[0].type)&&Array.isArray(t[0].children))return o(t[0],{},[...h(t[0].children),_()]);if(t.length===1&&t[0].type==="table"){const l=t[0];if(Array.isArray(l.children))return o(l,{},l.children.map(e=>y(e)?e.type==="tbody"&&Array.isArray(e.children)?o(e,{},[...h(e.children),_()]):o(e):e))}}return[...h(t),_()]}}),P=b({props:{at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},wrapText:{type:Function,default:a=>o("span",a)}},render(){return o(H,{every:U,at:this.at,hide:this.hide,fade:this.fade,handleSpecialElements:!1},{default:()=>{var a,r;return(r=(a=this.$slots).default)==null?void 0:r.call(a).map(n=>n.type===F?this.wrapText(n):n)}})}}),Q={class:"relative w-full h-full"},W=["src"],te={__name:"CrossfadeImages",props:{images:{type:Array,required:!0}},setup(a){const{$slidev:r}=I(),n=a,t=S(()=>r.nav.clicks),i=S(()=>Math.min(t.value,n.images.length-1));return(f,c)=>{const v=P;return p(),g("div",Q,[G(" Add one less click increment to match the number of transitions "),(p(!0),g(k,null,w(a.images.slice(1),(u,d)=>(p(),z(v,{key:d},{default:O(()=>c[0]||(c[0]=[j("div",null,null,-1)])),_:2,__:[0]},1024))),128)),(p(!0),g(k,null,w(a.images,(u,d)=>(p(),g("img",{key:u,src:u,class:q(["absolute inset-0 m-auto max-w-full max-h-full object-contain transition-opacity duration-1",i.value===d?"opacity-100":"opacity-0"])},null,10,W))),128))])}}};export{te as _};
